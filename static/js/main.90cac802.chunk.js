(this["webpackJsonpreact-game"]=this["webpackJsonpreact-game"]||[]).push([[0],{16:function(e,t,s){},17:function(e,t,s){},19:function(e,t,s){"use strict";s.r(t);var a=s(1),n=s.n(a),i=s(10),l=s.n(i),c=(s(16),s(3)),r=s(4),o=s(2),d=s(6),h=s(5),u=(s(17),s.p+"static/media/click.c8776b00.mp3"),j=s.p+"static/media/error.ed797694.mp3";var m=function(e){var t=new Audio(u),s=new Audio(j);return"valid"===e?t.play():s.play()},b=s(0),v=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).handleClick=a.handleClick.bind(Object(o.a)(a)),a.handleErrorClick=a.handleErrorClick.bind(Object(o.a)(a)),a}return Object(r.a)(s,[{key:"handleErrorClick",value:function(){m("error")}},{key:"handleClick",value:function(e){var t=e.target.value;t&&(this.props.swap(t),this.setState({visibility:"hidden"}))}},{key:"render",value:function(){return Object(b.jsx)("button",{className:"flex-item",onClick:this.props.moves.includes(this.props.position)?this.handleClick:this.handleErrorClick,value:this.props.number,style:this.props.number?null:{backgroundColor:"white",borderStyle:"none"},moves:this.props.moves,children:this.props.number})}}]),s}(n.a.Component),O=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).handleSwap=a.handleSwap.bind(Object(o.a)(a)),a.state={numbers:[1,2,3,4,5,6,7,8,null],toWin:[],demo:"off",movesMade:0,time:0,moves:[]},a}return Object(r.a)(s,[{key:"handleSwap",value:function(e){this.props.swap(e)}},{key:"render",value:function(){var e=this,t=this.state.numbers;return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{className:"flex-container",children:t.map((function(t,s){return Object(b.jsx)(v,{position:s,number:t,swap:e.handleSwap,moves:e.state.moves},s)}))})})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e!==t?{numbers:e.numbers,moves:e.moves,toWin:e.toWin}:null}}]),s}(n.a.Component),p=s(8),g=s(9),f=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).closeSettings=a.closeSettings.bind(Object(o.a)(a)),a.openSettings=a.openSettings.bind(Object(o.a)(a)),a.handleChange=a.handleChange.bind(Object(o.a)(a)),a.state={style:{width:"0%"},sound:"off",mode:"default",stats:"counts",theme:"light"},a}return Object(r.a)(s,[{key:"handleChange",value:function(e){"on"===this.state.sound&&m("valid");var t=e.target,s=t.name,a=t.value;this.setState(Object(p.a)({},s,a)),this.props.settings(Object(p.a)({},s,a))}},{key:"closeSettings",value:function(){"on"===this.state.sound&&m("valid"),this.setState({style:{width:"0%"}})}},{key:"openSettings",value:function(){"on"===this.state.sound&&m("valid"),this.setState({style:{width:"100%"}})}},{key:"render",value:function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("span",{className:"settings-icon",onClick:this.openSettings,children:Object(b.jsx)(g.b,{})}),Object(b.jsx)("div",{id:"settings-div",className:"overlay",style:this.state.style,children:Object(b.jsxs)("div",{className:"overlay-content",children:[Object(b.jsx)("div",{className:"closebtn",children:Object(b.jsx)("span",{onClick:this.closeSettings,children:Object(b.jsx)(g.a,{})})}),Object(b.jsxs)("div",{className:"settings-group",children:[Object(b.jsx)("h3",{children:"Sound"}),Object(b.jsx)("input",{type:"radio",id:"off",value:"off",name:"sound",checked:"off"===this.state.sound,onChange:this.handleChange}),Object(b.jsx)("label",{htmlFor:"off",children:"Off"}),Object(b.jsx)("input",{type:"radio",id:"on",value:"on",name:"sound",checked:"on"===this.state.sound,onChange:this.handleChange}),Object(b.jsx)("label",{htmlFor:"on",children:"On"})]}),Object(b.jsxs)("div",{className:"settings-group",children:[Object(b.jsx)("h3",{children:"Mode"}),Object(b.jsx)("input",{type:"radio",id:"default",value:"default",name:"mode",checked:"default"===this.state.mode,onChange:this.handleChange}),Object(b.jsx)("label",{htmlFor:"default",children:"Default"}),Object(b.jsx)("input",{type:"radio",id:"random",value:"random",name:"mode",checked:"random"===this.state.mode,onChange:this.handleChange}),Object(b.jsx)("label",{htmlFor:"random",children:"Random"})]}),Object(b.jsxs)("div",{className:"settings-group",children:[Object(b.jsx)("h3",{children:"Stats"}),Object(b.jsx)("input",{type:"radio",id:"counts",value:"counts",name:"stats",checked:"counts"===this.state.stats,onChange:this.handleChange}),Object(b.jsx)("label",{htmlFor:"counts",children:"Counts"}),Object(b.jsx)("input",{type:"radio",id:"timed",value:"timed",name:"stats",checked:"timed"===this.state.stats,onChange:this.handleChange}),Object(b.jsx)("label",{htmlFor:"timed",children:"Timed"})]}),Object(b.jsxs)("div",{className:"settings-group",children:[Object(b.jsx)("h3",{children:"Theme"}),Object(b.jsx)("input",{type:"radio",id:"light",value:"light",name:"theme",checked:"light"===this.state.theme,onChange:this.handleChange}),Object(b.jsx)("label",{htmlFor:"light",children:"Light"}),Object(b.jsx)("input",{type:"radio",id:"dark",value:"dark",name:"theme",checked:"dark"===this.state.theme,onChange:this.handleChange}),Object(b.jsx)("label",{htmlFor:"dark",children:"Dark"})]})]})})]})}}]),s}(n.a.Component);var x=function(e){return[[[null,2,3,1,5,6,4,7,8],[1,4,7,8]],[[1,2,3,null,8,5,4,7,6],[4,7,8,5,6]],[[1,2,3,7,4,null,8,6,5],[5,6,8,7,4,5,6]],[[2,3,6,1,4,8,7,5,null],[8,6,3,2,1,4,5,8]],[[1,3,5,8,2,6,4,null,7],[7,6,5,3,2,8,4,7,8,5,6]],[[2,4,1,6,5,3,7,8,null],[8,5,6,2,4,1,3,6,2,4,1,2,5,8]],[[1,null,3,8,2,5,7,6,4],[2,8,7,6,4,5,8,4,6,7,4,6,5,8,6,5,8]],[[1,4,3,2,7,null,8,6,5],[3,4,1,2,7,1,4,3,5,6,8,7,1,4,2,1,4,5,6]],[[6,8,4,1,2,3,null,5,7],[1,2,8,6,2,8,6,4,3,6,5,7,6,5,8,1,7,8,4,2,1,4,5,6]],[[4,8,7,1,null,6,2,5,3],[6,7,8,6,7,3,5,7,3,8,6,3,1,2,7,5,8,6,3,1,2,4,1,2,5,8]]][e]},y=s(11);var k=function e(){for(var t=[];t.length<8;){var s=Math.floor(8*Math.random()+1);t.includes(s)||t.push(s)}return function(e){var t,s=Object(y.a)(e),a=0;do{t=!1;for(var n=0;n<s.length;n++)if(s[n]>s[n+1]){var i=[s[n+1],s[n]];s[n]=i[0],s[n+1]=i[1],a++,t=!0}s.length-=1}while(t);return a%2===0}(t)?t:e()},S=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).handleClick=a.handleClick.bind(Object(o.a)(a)),a.state={gameLevel:0,gamesPlayed:0},a}return Object(r.a)(s,[{key:"handleClick",value:function(e){"on"===this.state.state.sound&&m("valid");var t=x(this.props.gameLevel);"random"===this.state.state.mode?(this.setState({gamesPlayed:this.state.gamesPlayed+1}),this.props.start(this.randomPlay())):"autoplay"===e.target.value?this.props.demo(t):this.props.start(t[0])}},{key:"randomPlay",value:function(){var e=k(),t=Math.floor(8*Math.random());return e.splice(t,0,null),e}},{key:"render",value:function(){var e="dark"===this.state.state.theme?"controls-btn-dark":"controls-btn";return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{id:"start-btn",className:e,value:"user-play",onClick:this.handleClick,children:0===this.state.gamesPlayed?"PLAY":"NEW"}),"default"===this.props.mode?Object(b.jsx)("button",{id:"demo-btn",className:e,value:"autoplay",onClick:this.handleClick,children:"DEMO"}):Object(b.jsx)("button",{id:"demo-btn",className:e,style:{opacity:.2},children:"NO DEMO"})]})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e!==t?{state:e}:null}}]),s}(n.a.Component),C=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).closeSettings=a.closeSettings.bind(Object(o.a)(a)),a.state={style:{width:"100%"}},a}return Object(r.a)(s,[{key:"closeSettings",value:function(){this.setState({style:{width:"0%"}})}},{key:"render",value:function(){return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{className:"overlay-intro",style:this.state.style,children:Object(b.jsx)("div",{className:"overlay-content",children:Object(b.jsxs)("div",{className:"intro",children:[Object(b.jsx)("h1",{children:"8 PUZZLE GAME"}),Object(b.jsx)("br",{}),Object(b.jsx)("div",{children:"MOVE THE NUMBERS BACK TO THIS PATTERN"}),Object(b.jsx)("br",{}),Object(b.jsx)("div",{children:Object(b.jsx)("table",{children:Object(b.jsxs)("tbody",{children:[Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"1"}),Object(b.jsx)("td",{children:"2"}),Object(b.jsx)("td",{children:"3"})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"4"}),Object(b.jsx)("td",{children:"5"}),Object(b.jsx)("td",{children:"6"})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"7"}),Object(b.jsx)("td",{children:"8"}),Object(b.jsx)("td",{})]})]})})}),Object(b.jsx)("br",{}),Object(b.jsx)("div",{children:"Have fun!"}),Object(b.jsx)("br",{}),Object(b.jsx)("button",{className:"controls-btn",onClick:this.closeSettings,children:"START"})]})})})})}}]),s}(n.a.Component),N=s.p+"static/media/rs_school_js.ad178c0d.svg",M=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).state={time:0,gamesPlayed:0},a}return Object(r.a)(s,[{key:"componentWillUnmount",value:function(){this.setState({time:0}),clearInterval(this.timerID)}},{key:"tick",value:function(){this.setState({time:this.state.time+1}),this.props.time(this.state.time)}},{key:"componentDidMount",value:function(){var e=this;this.timerID=setInterval((function(){return e.tick()}),1e3)}},{key:"render",value:function(){return Object(b.jsx)(b.Fragment,{children:0===this.state.gamesPlayed?Object(b.jsx)("div",{className:"play-stats",children:"TIME: 00:00"}):Object(b.jsxs)("div",{className:"play-stats",children:["TIME: ",this.state.time]})})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.gamesPlayed!==t.gamesPlayed?{gamesPlayed:e.gamesPlayed,time:0}:null}}]),s}(n.a.Component);function w(e,t){var s=e.indexOf(+t),a=e.indexOf(null),n=[e[a],e[s]];return e[s]=n[0],e[a]=n[1],e}function P(e){var t;switch(e.indexOf(null)){case 0:t=[1,3];break;case 1:t=[0,2,4];break;case 2:t=[1,5];break;case 3:t=[0,4,6];break;case 4:t=[1,3,5,7];break;case 5:t=[2,4,8];break;case 6:t=[3,7];break;case 7:t=[4,6,8];break;case 8:t=[5,7]}return t}var E=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).updateSettings=a.updateSettings.bind(Object(o.a)(a)),a.handleStart=a.handleStart.bind(Object(o.a)(a)),a.handleSwap=a.handleSwap.bind(Object(o.a)(a)),a.closeModal=a.closeModal.bind(Object(o.a)(a)),a.handleDemo=a.handleDemo.bind(Object(o.a)(a)),a.state={modalStyle:{display:"block"},sound:"off",mode:"default",stats:"counts",theme:"light",numbers:[1,2,3,4,5,6,7,8,null],toWin:[],autoplay:!1,time:0,movesMade:0,moves:[],gamesPlayed:0,gameLevel:0},a}return Object(r.a)(s,[{key:"updateSettings",value:function(e){this.setState(e),this.setState({numbers:[1,2,3,4,5,6,7,8,null],moves:[],movesMade:0,toWin:[],gamesPlayed:0})}},{key:"handleStart",value:function(e){this.setState({numbers:e,movesMade:0,toWin:[1,2,3,4,5,6,7,8,null],moves:P(e),gamesPlayed:this.state.gamesPlayed+1,modalStyle:{display:"block"}})}},{key:"handleDemo",value:function(e){var t=this;this.setState({numbers:e[0],possibleClicks:[],movesMade:0,toWin:[1,2,3,4,5,6,7,8,null]}),e[1].forEach((function(e,s){setTimeout((function(){t.handleSwap(e)}),1e3*(s+1))}))}},{key:"handleSwap",value:function(e){var t=this.state.numbers;"on"===this.state.sound&&m("valid"),this.setState({numbers:w(t,e),moves:P(t),movesMade:this.state.movesMade+1})}},{key:"closeModal",value:function(){"on"===this.state.sound&&m("valid"),this.setState({modalStyle:{display:"none"},demo:"off",gameLevel:this.state.gameLevel+1,numbers:[1,2,3,4,5,6,7,8,null],moves:[],movesMade:0,toWin:[],gamesPlayed:0}),2===this.state.gameLevel&&(alert("You mastered all the levels! Try playing random sets as much as you want."),this.setState({gameLevel:0}))}},{key:"render",value:function(){var e=this,t=this.state.numbers,s=this.state.toWin,a=this.state.movesMade;return Object(b.jsxs)("div",{className:"dark"===this.state.theme?"App dark":"App",children:[Object(b.jsx)("header",{className:"App-header",children:Object(b.jsx)("h1",{className:this.state.theme,children:"8 PUZZLE"})}),Object(b.jsx)("h2",{children:"random"===this.state.mode?"RANDOM":"LEVEL "+(this.state.gameLevel+1)}),Object(b.jsxs)("div",{className:"controls-div",children:[Object(b.jsx)(S,{start:this.handleStart,demo:this.handleDemo,gameLevel:this.state.gameLevel,theme:this.state.theme,mode:this.state.mode,sound:this.state.sound}),Object(b.jsx)("div",{className:"stats-info",children:"counts"===this.state.stats?Object(b.jsxs)("div",{id:"count-stats",children:["Count: ",this.state.movesMade]}):Object(b.jsx)(M,{id:"time-stats",gamesPlayed:this.state.gamesPlayed,time:function(t){return e.setState({time:t})}})})]}),Object(b.jsx)(O,{numbers:this.state.numbers,moves:this.state.moves,toWin:this.state.toWin,swap:this.handleSwap}),t.every((function(e,t){return e===s[t]}))&&Object(b.jsx)("div",{className:"modal",style:this.state.modalStyle,children:Object(b.jsxs)("div",{className:"modal-content",children:[Object(b.jsx)("span",{onClick:this.closeModal,className:"close",children:"\xd7"}),Object(b.jsx)("p",{children:"Congratulations!"}),Object(b.jsxs)("p",{children:["You solved this puzzle in","counts"===this.state.stats?" "+a+" moves":" "+this.state.time+" seconds. (Sorry! I haven't figured out yet how to stop the timer)"]})]})}),Object(b.jsx)(f,{settings:this.updateSettings}),Object(b.jsx)(C,{}),Object(b.jsxs)("footer",{className:"App-footer",children:[Object(b.jsx)("div",{children:Object(b.jsx)("a",{href:"https://rs.school/react/",children:Object(b.jsx)("img",{src:N,alt:"RS School logo",style:{height:"5vh",float:"right"}})})}),Object(b.jsx)("div",{children:"by Dmitry Yagodin"}),Object(b.jsx)("div",{children:Object(b.jsx)("a",{href:"https://github.com/dmitryyagodin",children:"(GitHub)"})})]})]})}}]),s}(n.a.Component);l.a.render(Object(b.jsx)(n.a.StrictMode,{children:Object(b.jsx)(E,{})}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.90cac802.chunk.js.map